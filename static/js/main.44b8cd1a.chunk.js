(this["webpackJsonphooks-snake-game"]=this["webpackJsonphooks-snake-game"]||[]).push([[0],{13:function(e,n,t){},15:function(e,n,t){"use strict";t.r(n);var i,c=t(1),a=t.n(c),s=t(8),o=t.n(s),r=(t(13),t(3)),l=t(7),u=t(5),d=t(0),b=function(e){var n=e.length,t=e.difficulty,i=void 0===t?3:t,c=e.onChangeDifficulty,a=i<5?"":"is-hidden",s=i>1?"":"is-hidden";return Object(d.jsxs)("div",{className:"navigation",children:[Object(d.jsxs)("div",{className:"navigation-item",children:[Object(d.jsx)("span",{className:"navigation-label",children:"Length: "}),Object(d.jsx)("div",{className:"navigation-item-number-container",children:Object(d.jsx)("div",{className:"num-board",children:n})})]}),Object(d.jsxs)("div",{className:"navigation-item",children:[Object(d.jsx)("span",{className:"navigation-label",children:"Difficulty: "}),Object(d.jsxs)("div",{className:"navigation-item-number-container",children:[Object(d.jsx)("span",{className:"num-board",children:i}),Object(d.jsxs)("div",{className:"difficulty-button-container",children:[Object(d.jsx)("div",{className:"difficulty-button difficulty-up ".concat(a),onClick:function(){return c(i+1)}}),Object(d.jsx)("div",{className:"difficulty-button difficulty-down ".concat(s),onClick:function(){return c(i-1)}})]})]})]})]})},f=function(e){var n=e.fields;return Object(d.jsx)("div",{className:"field",children:n.map((function(e){return e.map((function(e,n){return Object(d.jsx)("div",{className:"dots ".concat(e)},n)}))}))})},j=function(e){var n=e.status,t=e.onStart,i=e.onRestart,c=e.onStop;return Object(d.jsxs)("div",{className:"button",children:["gameover"===n&&Object(d.jsx)("button",{className:"btn btn-gameover",onClick:i,children:"gameover"}),"init"===n&&Object(d.jsx)("button",{className:"btn btn-init",onClick:t,children:"start"}),"suspended"===n&&Object(d.jsx)("button",{className:"btn btn-suspended",onClick:t,children:"start"}),"playing"===n&&Object(d.jsx)("button",{className:"btn btn-playing",onClick:c,children:"stop"})]})},x=function(e){var n=e.onChange;return Object(d.jsxs)("div",{className:"manipulation-panel",children:[Object(d.jsx)("button",{className:"manipulation-btn btn btn-left",onClick:function(){return n("left")},children:"\u2190"}),Object(d.jsxs)("div",{children:[Object(d.jsx)("button",{className:"manipulation-btn btn btn-up",onClick:function(){return n("up")},children:"\u2191"}),Object(d.jsx)("button",{className:"manipulation-btn btn btn-down",onClick:function(){return n("down")},children:"\u2193"})]}),Object(d.jsx)("button",{className:"manipulation-btn btn btn-right",onClick:function(){return n("right")},children:"\u2192"})]})},h=function(e,n){for(var t=function(){var t=Math.floor(Math.random()*(e-1-1))+1,i=Math.floor(Math.random()*(e-1-1))+1;if(!n.some((function(e){return e.x===t&&e.y===i})))return{v:{y:i,x:t}}};;){var i=t();if("object"===typeof i)return i.v}},m=function(e,n,t){for(var i=[],c=0;c<e;c++){var a=new Array(e).fill("");i.push(a)}return i[n.y][n.x]="snake",i[t.y][t.x]="food",i},O=Object.freeze({init:"init",playing:"playing",suspended:"suspended",gamever:"gameover"}),v=Object.freeze({up:"up",right:"right",left:"left",down:"down"}),y=Object.freeze({up:"down",right:"left",left:"right",down:"up"}),p=Object.freeze({up:{x:0,y:-1},right:{x:1,y:0},left:{x:-1,y:0},down:{x:0,y:1}}),g=Object.freeze({37:v.left,38:v.up,39:v.right,40:v.down}),N=function(){i&&clearInterval(i)},k=35,C={x:17,y:17},w=h(k,[C]),F=m(k,C,w),S=[1e3,500,100,50,10],P={body:[C],food:w,fields:F},z=function(e,n){var t=[n.nextPos].concat(Object(u.a)(e.body)),i=Object(u.a)(e.fields);switch(n.type){case"reset":return{body:[C],food:w,fields:m(k,C,w)};case"continue":var c=t.pop();return i[c.y][c.x]="",i[t[0].y][t[0].x]="snake",Object(l.a)(Object(l.a)({},e),{},{body:t,fields:i});case"newFood":return i[n.nextPos.y][n.nextPos.x]="snake",i[n.nextFood.y][n.nextFood.x]="food",{body:t,food:n.nextFood,fields:i};default:return e}};var E=function(){var e=Object(c.useReducer)(z,P),n=Object(r.a)(e,2),t=n[0],a=n[1],s=Object(c.useState)(O.init),o=Object(r.a)(s,2),l=o[0],m=o[1],C=Object(c.useState)(v.up),w=Object(r.a)(C,2),F=w[0],E=w[1],L=Object(c.useState)(3),M=Object(r.a)(L,2),D=M[0],I=M[1],R=Object(c.useCallback)((function(e){if(l!==O.playing)return F;y[F]!==e&&E(e)}),[F,l]),A=Object(c.useCallback)((function(e){l===O.init&&(e<1||e>S.length||I(e))}),[l]);return Object(c.useEffect)((function(){if(l===O.playing)return i=setInterval((function(){var e,n={x:t.body[0].x+p[F].x,y:t.body[0].y+p[F].y};if((e=n).y<0||e.x<0||e.y>k-1||e.x>k-1||function(e,n){return"snake"===e[n.y][n.x]}(t.fields,n))m(O.gamever);else if("food"===t.fields[n.y][n.x]){var i=h(k,[].concat(Object(u.a)(t.body),[n]));a({type:"newFood",nextPos:n,nextFood:i})}else a({type:"continue",nextPos:n})}),S[D-1]),N}),[t,l,F,D]),Object(c.useEffect)((function(){var e=function(e){var n=g[e.keyCode];n&&R(n)};return document.addEventListener("keydown",e),function(){return document.removeEventListener("keydown",e)}}),[R]),Object(d.jsxs)("div",{className:"App",children:[Object(d.jsxs)("header",{className:"header",children:[Object(d.jsx)("div",{className:"title-container",children:Object(d.jsx)("h1",{className:"nav-title",children:"Snake Game"})}),Object(d.jsx)(b,{length:t.body.length,difficulty:D,onChangeDifficulty:A},"navigation")]}),Object(d.jsx)("main",{className:"main",children:Object(d.jsx)(f,{fields:t.fields})}),Object(d.jsxs)("footer",{className:"footer",children:[Object(d.jsx)(j,{status:l,onStart:function(){return m(O.playing)},onRestart:function(){m(O.init),E(v.up),a({type:"reset"})},onStop:function(){return m(O.suspended)}}),Object(d.jsx)(x,{onChange:R})]})]})},L=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,16)).then((function(n){var t=n.getCLS,i=n.getFID,c=n.getFCP,a=n.getLCP,s=n.getTTFB;t(e),i(e),c(e),a(e),s(e)}))};o.a.render(Object(d.jsx)(a.a.StrictMode,{children:Object(d.jsx)(E,{})}),document.getElementById("root")),L()}},[[15,1,2]]]);
//# sourceMappingURL=main.44b8cd1a.chunk.js.map