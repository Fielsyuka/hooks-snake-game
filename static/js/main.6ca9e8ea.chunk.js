(this["webpackJsonphooks-snake-game"]=this["webpackJsonphooks-snake-game"]||[]).push([[0],{13:function(t,e,n){},15:function(t,e,n){"use strict";n.r(e);var i,a=n(1),c=n.n(a),s=n(8),o=n.n(s),r=(n(13),function(t,e){for(var n=function(){var n=Math.floor(Math.random()*(t-1-1))+1,i=Math.floor(Math.random()*(t-1-1))+1;if(!e.some((function(t){return t.x===n&&t.y===i})))return{v:{y:i,x:n}}};;){var i=n();if("object"===typeof i)return i.v}}),l=function(t,e,n){for(var i=[],a=0;a<t;a++){var c=new Array(t).fill("");i.push(c)}return i[e.y][e.x]="snake",i[n.y][n.x]="food",i},u=35,d={x:17,y:17},b=r(u,[d]),f=l(u,d,b),j=[100,80,50,30,10],h={body:[d],food:b,fields:f},m=Object.freeze({init:"init",playing:"playing",suspended:"suspended",gameover:"gameover"}),O=Object.freeze({up:"up",right:"right",left:"left",down:"down"}),v=Object.freeze({ArrowLeft:O.left,ArrowUp:O.up,ArrowRight:O.right,ArrowDown:O.down}),x=Object.freeze({up:"down",right:"left",left:"right",down:"up"}),y=Object.freeze({up:{x:0,y:-1},right:{x:1,y:0},left:{x:-1,y:0},down:{x:0,y:1}}),p=n(0),g=function(t){var e=t.length,n=t.difficulty,i=void 0===n?3:n,a=t.onChangeDifficulty,c=i<j.length?"":"is-hidden",s=i>1?"":"is-hidden";return Object(p.jsxs)("div",{className:"navigation",children:[Object(p.jsxs)("div",{className:"navigation-item",children:[Object(p.jsx)("span",{className:"navigation-label",children:"Length: "}),Object(p.jsx)("div",{className:"navigation-item-number-container",children:Object(p.jsx)("div",{className:"num-board",children:e})})]}),Object(p.jsxs)("div",{className:"navigation-item",children:[Object(p.jsx)("span",{className:"navigation-label",children:"Difficulty: "}),Object(p.jsxs)("div",{className:"navigation-item-number-container",children:[Object(p.jsx)("span",{className:"num-board",children:i}),Object(p.jsxs)("div",{className:"difficulty-button-container",children:[Object(p.jsx)("div",{className:"difficulty-button difficulty-up ".concat(c),onClick:function(){return a(i+1)}}),Object(p.jsx)("div",{className:"difficulty-button difficulty-down ".concat(s),onClick:function(){return a(i-1)}})]})]})]})]})},N=function(t){var e=t.fields;return Object(p.jsx)("div",{className:"field",children:e.map((function(t){return t.map((function(t,e){return Object(p.jsx)("div",{className:"dots ".concat(t)},e)}))}))})},k=function(t){var e=t.status,n=t.onStart,i=t.onRestart,a=t.onStop;return Object(p.jsxs)("div",{className:"button",children:[e===m.gameover&&Object(p.jsx)("button",{className:"btn btn-gameover",onClick:i,children:"gameover"}),e===m.init&&Object(p.jsx)("button",{className:"btn btn-init",onClick:n,children:"start"}),e===m.suspended&&Object(p.jsx)("button",{className:"btn btn-suspended",onClick:n,children:"start"}),e===m.playing&&Object(p.jsx)("button",{className:"btn btn-playing",onClick:a,children:"stop"})]})},w=function(t){var e=t.onChange;return Object(p.jsxs)("div",{className:"manipulation-panel",children:[Object(p.jsx)("button",{className:"manipulation-btn btn btn-left",onClick:function(){return e(O.left)},children:"\u2190"}),Object(p.jsxs)("div",{children:[Object(p.jsx)("button",{className:"manipulation-btn btn btn-up",onClick:function(){return e(O.up)},children:"\u2191"}),Object(p.jsx)("button",{className:"manipulation-btn btn btn-down",onClick:function(){return e(O.down)},children:"\u2193"})]}),Object(p.jsx)("button",{className:"manipulation-btn btn btn-right",onClick:function(){return e(O.right)},children:"\u2192"})]})},C=n(7),S=n(5),D=n(3),A=function(){i&&clearInterval(i)},L=function(){var t=Object(a.useState)(h),e=Object(D.a)(t,2),n=e[0],c=e[1],s=Object(a.useState)(m.init),o=Object(D.a)(s,2),f=o[0],p=o[1],g=Object(a.useState)(O.up),N=Object(D.a)(g,2),k=N[0],w=N[1],L=Object(a.useState)(3),z=Object(D.a)(L,2),E=z[0],M=z[1],F=Object(a.useCallback)((function(t){if(f!==m.playing)return k;x[k]!==t&&w(t)}),[k,f]),I=Object(a.useCallback)((function(t){f===m.init&&(t<1||t>j.length||M(t))}),[f]);return Object(a.useEffect)((function(){var t=function(t){var e=v[t.key];e&&F(e)};return document.addEventListener("keydown",t),function(){return document.removeEventListener("keydown",t)}}),[F]),Object(a.useEffect)((function(){if(f===m.playing)return i=setInterval((function(){var t,e={x:n.body[0].x+y[k].x,y:n.body[0].y+y[k].y};((t=e).y<=0||t.x<=0||t.y>=u-1||t.x>=u-1||function(t,e){return"snake"===t[e.y][e.x]}(n.fields,e))&&p(m.gameover);var i=[e].concat(Object(S.a)(n.body)),a=Object(S.a)(n.fields);if("food"===n.fields[e.y][e.x]){var s=r(u,[].concat(Object(S.a)(n.body),[e]));a[e.y][e.x]="snake",a[s.y][s.x]="food",c({body:i,food:s,fields:a})}else{var o=i.pop();a[o.y][o.x]="",a[e.y][e.x]="snake",c((function(t){return Object(C.a)(Object(C.a)({},t),{},{body:i,fields:a})}))}}),j[E-1]),A}),[n,f,k,E]),{state:n,difficulty:E,status:f,start:function(){return p(m.playing)},stop:function(){return p(m.suspended)},reload:function(){p(m.init),w(O.up),c({body:[d],food:b,fields:l(u,d,b)})},updateDirection:F,updateDifficulty:I}};var z=function(){var t=L(),e=t.state,n=t.difficulty,i=t.start,a=t.stop,c=t.reload,s=t.status,o=t.updateDirection,r=t.updateDifficulty;return Object(p.jsxs)("div",{className:"App",children:[Object(p.jsxs)("header",{className:"header",children:[Object(p.jsx)("div",{className:"title-container",children:Object(p.jsx)("h1",{className:"title",children:"Snake Game"})}),Object(p.jsx)(g,{length:e.body.length,difficulty:n,onChangeDifficulty:r},"navigation")]}),Object(p.jsx)("main",{className:"main",children:Object(p.jsx)(N,{fields:e.fields})}),Object(p.jsxs)("footer",{className:"footer",children:[Object(p.jsx)(k,{status:s,onStart:i,onRestart:c,onStop:a}),Object(p.jsx)(w,{onChange:o})]})]})},E=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,16)).then((function(e){var n=e.getCLS,i=e.getFID,a=e.getFCP,c=e.getLCP,s=e.getTTFB;n(t),i(t),a(t),c(t),s(t)}))};o.a.render(Object(p.jsx)(c.a.StrictMode,{children:Object(p.jsx)(z,{})}),document.getElementById("root")),E()}},[[15,1,2]]]);
//# sourceMappingURL=main.6ca9e8ea.chunk.js.map